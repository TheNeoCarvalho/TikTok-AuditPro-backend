import { PrismaService } from '../../shared/prisma/prisma.service';
import { MetricsSyncService } from '../scraper/metrics-sync.service';
import { AddAccountDto, FetchMetricsDto } from './dto/accounts.dto';
export declare class AccountsService {
    private readonly prisma;
    private readonly metricsSyncService;
    private readonly logger;
    constructor(prisma: PrismaService, metricsSyncService: MetricsSyncService);
    addAccount(userId: string, dto: AddAccountDto): Promise<{
        id: string;
        username: string;
        userId: string;
        tiktokId: string | null;
        displayName: string | null;
        bio: string | null;
        avatarUrl: string | null;
        isPrivate: boolean;
        isVerified: boolean;
        profileUrl: string | null;
        createdAt: Date;
        updatedAt: Date;
        openId: string | null;
        accessToken: string | null;
        refreshToken: string | null;
        tokenExpiresAt: Date | null;
        refreshExpiresAt: Date | null;
        scopes: string | null;
    }>;
    getUserAccounts(userId: string): Promise<{
        isOAuthConnected: boolean;
        snapshots: {
            id: string;
            videos: number;
            accountId: string;
            comments: number;
            followers: number;
            following: number;
            likes: number;
            shares: number;
            views: number;
            followersDelta: number;
            likesDelta: number;
            viewsDelta: number;
            engagementRate: number;
            growthRate: number;
            source: string;
            fetchedAt: Date;
        }[];
        _count: {
            reports: number;
        };
        id: string;
        username: string;
        userId: string;
        tiktokId: string | null;
        displayName: string | null;
        bio: string | null;
        avatarUrl: string | null;
        isPrivate: boolean;
        isVerified: boolean;
        profileUrl: string | null;
        createdAt: Date;
        updatedAt: Date;
        openId: string | null;
        scopes: string | null;
    }[]>;
    getAccountById(userId: string, accountId: string): Promise<{
        isOAuthConnected: boolean;
        snapshots: {
            id: string;
            videos: number;
            accountId: string;
            comments: number;
            followers: number;
            following: number;
            likes: number;
            shares: number;
            views: number;
            followersDelta: number;
            likesDelta: number;
            viewsDelta: number;
            engagementRate: number;
            growthRate: number;
            source: string;
            fetchedAt: Date;
        }[];
        reports: {
            id: string;
            userId: string;
            accountId: string;
            createdAt: Date;
            status: import(".prisma/client").$Enums.ReportStatus;
            healthScore: number | null;
            growthScore: number | null;
            engagementScore: number | null;
            consistencyScore: number | null;
            riskScore: number | null;
            insights: import("@prisma/client/runtime/client").JsonValue | null;
            warnings: import("@prisma/client/runtime/client").JsonValue | null;
            recommendations: import("@prisma/client/runtime/client").JsonValue | null;
            generatedAt: Date | null;
        }[];
        id: string;
        username: string;
        userId: string;
        tiktokId: string | null;
        displayName: string | null;
        bio: string | null;
        avatarUrl: string | null;
        isPrivate: boolean;
        isVerified: boolean;
        profileUrl: string | null;
        createdAt: Date;
        updatedAt: Date;
        openId: string | null;
        scopes: string | null;
    }>;
    addMetricSnapshot(userId: string, accountId: string, dto: FetchMetricsDto): Promise<{
        id: string;
        videos: number;
        accountId: string;
        comments: number;
        followers: number;
        following: number;
        likes: number;
        shares: number;
        views: number;
        followersDelta: number;
        likesDelta: number;
        viewsDelta: number;
        engagementRate: number;
        growthRate: number;
        source: string;
        fetchedAt: Date;
    }>;
    deleteAccount(userId: string, accountId: string): Promise<{
        message: string;
    }>;
}
